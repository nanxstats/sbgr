<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Task class — Task-class • sbgr</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



  <link href="../extra.css" rel="stylesheet">
  

<meta property="og:title" content="Task class — Task-class" />
<meta property="og:description" content="Task class" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">sbgr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.1.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/sbgr.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/easy-api.html">Easy API: A User-Friendly Cascading API</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/nanxstats/sbgr/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Task class</h1>
    <small class="dont-index">Source: <a href='https://github.com/nanxstats/sbgr/blob/master/R/99-easy-api.R'><code>R/99-easy-api.R</code></a></small>
    <div class="hidden name"><code>Task-class.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Task class</p>
    </div>



    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>A task execution require auth, project_id, pipeline_id and inputs
parameters, there are two ways to execute a task, the recommended
way is to use a cascading method to create a project object called
<code>p</code> then just call <code>p$task_run()</code> to pass your
parameters. This way you save your time passing auth and
project_id. The other way is to create a Task object with all
required fields and call <code>run</code> method. Please check example
in the end or tutorial for easy API.</p>
    <h2 class="hasAnchor" id="fields"><a class="anchor" href="#fields"></a>Fields</h2>

    

<dl>
<dt><code>id</code></dt><dd><p>[characterORNULL] The task ID number, used when referring to the
task in other Seven Bridges API calls</p></dd>

<dt><code>name</code></dt><dd><p>[characterORNULL] Name of the task you wish to execute. If this
is not specified, the task will be named automatically.</p></dd>

<dt><code>description</code></dt><dd><p>[characterORNULL] Description of the task you wish to execute.</p></dd>

<dt><code>pipeline_id</code></dt><dd><p>[characterORNULL] ID of the pipeline you wish to execute.</p></dd>

<dt><code>pipeline_revision</code></dt><dd><p>[characterORNULL] Revision number of the pipeline
you wish to execute. If this is not specified, the latest pipeline revision
is used.</p></dd>

<dt><code>start_time</code></dt><dd><p>[numericORNULL] start time.</p></dd>

<dt><code>status</code></dt><dd><p>[characterORNULL] 1) active: task is currently running.
2) completed: task has finished successfully. 3) aborted: task was aborted by
user. 4) failed: task has failed to finish due to either bad inputs and/or
parameters, or because of the internal infrastructure failures.</p></dd>

<dt><code>message</code></dt><dd><p>[characterORNULL] task message</p></dd>

<dt><code>jobs_completed</code></dt><dd><p>[numericORNULL] completed jobs</p></dd>

<dt><code>jobs_total</code></dt><dd><p>[numericORNULL] total jobs.</p></dd>

<dt><code>inputs</code></dt><dd><p>[listORNULL] required for task execution. List of key-value
pairs containing mappings of pipeline input node ID to file IDs.
 Note that you must supply an array of file IDs for each input nodes,
 even if the array is empty.</p></dd>

<dt><code>parameters</code></dt><dd><p>[listORNULL] required for task execution. List of key-value
pairs containing mappings of node IDs to apps specific parameters. Note that
you must supply some value for parameters, even if this an empty list of
key-value pairs.</p></dd>

<dt><code>project_id</code></dt><dd><p>[characterORNULL] required for task execution.
ID of the project you want to execute the task in.</p></dd>

</dl>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='va'>token</span> <span class='op'>&lt;-</span> <span class='st'>"aef7e9e3f6c54fb1b338ac4ecddf1a56"</span>
<span class='va'>a</span> <span class='op'>&lt;-</span> <span class='fu'><a href='Auth-class.html'>Auth</a></span><span class='op'>(</span><span class='va'>token</span><span class='op'>)</span>
<span class='co'>## A task constructor</span>
<span class='fu'>Task</span><span class='op'>(</span>auth <span class='op'>=</span> <span class='fu'><a href='Auth-class.html'>Auth</a></span><span class='op'>(</span><span class='va'>token</span><span class='op'>)</span>,
     name <span class='op'>=</span> <span class='st'>"my task"</span>,
     description <span class='op'>=</span> <span class='st'>"A text description"</span>,
     pipeline_id <span class='op'>=</span> <span class='st'>"fake_pipeline_id"</span>,
     project_id <span class='op'>=</span> <span class='st'>"fake_project_id"</span>,
     inputs <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='st'>"177252"</span> <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='st'>"fake_id"</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='message'>== Task ==</span></div><div class='output co'>#&gt; <span class='message'>id : </span></div><div class='output co'>#&gt; <span class='message'>name : my task</span></div><div class='output co'>#&gt; <span class='message'>description : A text description</span></div><div class='output co'>#&gt; <span class='message'>pipeline_id : fake_pipeline_id</span></div><div class='output co'>#&gt; <span class='message'>pipeline_revision : </span></div><div class='output co'>#&gt; <span class='message'>start_time : </span></div><div class='output co'>#&gt; <span class='message'>status : </span></div><div class='output co'>#&gt; <span class='message'>message : </span></div><div class='output co'>#&gt; <span class='message'>jobs_completed : </span></div><div class='output co'>#&gt; <span class='message'>jobs_total : </span></div><div class='output co'>#&gt; <span class='message'>parameters : </span></div><div class='output co'>#&gt; <span class='message'>inputs : list("fake_id")</span></div><div class='output co'>#&gt; <span class='message'>outputs : </span></div><div class='input'><span class='co'># \donttest{</span>
<span class='co'>## replace with real token then follow the examples here</span>
<span class='co'>## get billing info</span>
<span class='va'>b</span> <span class='op'>&lt;-</span> <span class='va'>a</span><span class='op'>$</span><span class='fu'>billing</span><span class='op'>(</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='error'>Error: HTTP Status 404: /1.1/billing not found</span></div><div class='input'><span class='va'>p</span> <span class='op'>&lt;-</span> <span class='va'>a</span><span class='op'>$</span><span class='fu'>project</span><span class='op'>(</span><span class='st'>"API"</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='error'>Error: HTTP Status 404: /1.1/project not found</span></div><div class='input'><span class='co'>## get the pipeline from your project not public one</span>
<span class='va'>f.pipe</span> <span class='op'>&lt;-</span> <span class='va'>p</span><span class='op'>$</span><span class='fu'>pipeline</span><span class='op'>(</span>name <span class='op'>=</span> <span class='st'>"FastQC"</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='error'>Error in eval(expr, envir, enclos): object 'p' not found</span></div><div class='input'><span class='co'>## check the inputs needed for running tasks</span>
<span class='va'>f.pipe</span><span class='op'>$</span><span class='fu'>details</span><span class='op'>(</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='error'>Error in eval(expr, envir, enclos): object 'f.pipe' not found</span></div><div class='input'><span class='co'>## Ready to run a task? go</span>
<span class='va'>f.task</span> <span class='op'>&lt;-</span> <span class='va'>p</span><span class='op'>$</span><span class='fu'>task_run</span><span class='op'>(</span>
  name <span class='op'>=</span> <span class='st'>"my task"</span>,
  description <span class='op'>=</span> <span class='st'>"A text description"</span>,
  pipeline_id <span class='op'>=</span> <span class='va'>f.pipe</span><span class='op'>$</span><span class='va'>id</span>,
  inputs <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='st'>"177252"</span> <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='va'>f.file</span><span class='op'>$</span><span class='va'>id</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='error'>Error in eval(expr, envir, enclos): object 'p' not found</span></div><div class='input'><span class='va'>f.task</span><span class='op'>$</span><span class='fu'>run</span><span class='op'>(</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='error'>Error in eval(expr, envir, enclos): object 'f.task' not found</span></div><div class='input'><span class='co'>## or you can just run with Task constructor</span>
<span class='va'>f.task</span> <span class='op'>&lt;-</span> <span class='fu'>Task</span><span class='op'>(</span>
  auth <span class='op'>=</span> <span class='fu'><a href='Auth-class.html'>Auth</a></span><span class='op'>(</span><span class='va'>token</span><span class='op'>)</span>,
  name <span class='op'>=</span> <span class='st'>"my task"</span>,
  description <span class='op'>=</span> <span class='st'>"A text description"</span>,
  pipeline_id <span class='op'>=</span> <span class='va'>f.pipe</span><span class='op'>$</span><span class='va'>id</span>,
  project_id <span class='op'>=</span> <span class='va'>p</span><span class='op'>$</span><span class='va'>id</span>,
  inputs <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='st'>"177252"</span> <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='va'>f.file</span><span class='op'>$</span><span class='va'>id</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='error'>Error in initRefFields(.self, .refClassDef, as.environment(.self), list(...)): object 'f.pipe' not found</span></div><div class='input'><span class='co'>## Monitor you task</span>
<span class='va'>f.task</span><span class='op'>$</span><span class='fu'>monitor</span><span class='op'>(</span><span class='fl'>30</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='error'>Error in eval(expr, envir, enclos): object 'f.task' not found</span></div><div class='input'>
<span class='co'>## download a task output files</span>
<span class='va'>f.task</span> <span class='op'>&lt;-</span> <span class='va'>p</span><span class='op'>$</span><span class='fu'>task</span><span class='op'>(</span><span class='st'>"my task"</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='error'>Error in eval(expr, envir, enclos): object 'p' not found</span></div><div class='input'><span class='va'>f.task</span><span class='op'>$</span><span class='fu'>download</span><span class='op'>(</span><span class='st'>"~/Desktop/"</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='error'>Error in eval(expr, envir, enclos): object 'f.task' not found</span></div><div class='input'>
<span class='co'>## Abort the task</span>
<span class='va'>f.task</span><span class='op'>$</span><span class='fu'>abort</span><span class='op'>(</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='error'>Error in eval(expr, envir, enclos): object 'f.task' not found</span></div><div class='input'><span class='co'># }</span>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Nan Xiao, Tengfei Yin, Seven Bridges Genomics.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


